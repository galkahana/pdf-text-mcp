# PDF MCP Client Package - Build and Test Commands

# Run tests
test:
    uv run pytest tests

# Run tests in verbose mode
test-verbose:
    uv run pytest tests -v

# Run tests with coverage
test-coverage:
    uv run pytest tests --cov=src --cov-report=term-missing

# Lint check
lint:
    uv run ruff check src tests

# Auto-fix linting issues
lint-fix:
    uv run ruff check --fix src tests

# Format code
format:
    uv run black src tests

# Check formatting without modifying
format-check:
    uv run black --check src tests

# Type check with mypy
type-check:
    uv run mypy src

# Run all checks (lint + format-check + type-check + test)
check: lint format-check type-check test

# Clean build artifacts and caches
clean:
    rm -rf .pytest_cache/ .mypy_cache/ .ruff_cache/ __pycache__/ .coverage
    find . -type d -name "*.egg-info" -exec rm -rf {} + 2>/dev/null || true
    find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null || true

# Install dependencies
install:
    uv sync --all-extras

# Build package (Python packages don't need build step, but this is for consistency)
build:
    @echo "Python package - no build step needed"

# Show available Python environment info
info:
    @echo "Python version:"
    @uv run python --version
    @echo "\nInstalled packages:"
    @uv pip list
